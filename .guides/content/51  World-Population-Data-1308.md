5.1  World Population Data {#sec36 .section}
--------------------------

[]{#worldpopdata}

The Wikipedia article on world population contains tables with estimates
of world population from prehistory to the present, and projections for
the future
([[https://modsimpy.com/worldpop]{style="font-family:monospace"}](https://modsimpy.com/worldpop)).

[]{#hevea_default168} []{#hevea_default169}

To read this data, we will use Pandas, which provides functions for
working with data. The function we'll use is `read_html`, which can read
a web page and extract data from any tables it contains. Before we can
use it, we have to import it. You have already seen this import
statement:

[]{#hevea_default170} []{#hevea_default171} []{#hevea_default172}

from modsim import \*

which imports all functions from the `modsim` library. To import
`read_html`, the statement we need is:

from pandas import read\_html

Now we can use it like this:

filename = 'data/World\_population\_estimates.html' tables =
read\_html(filename, header=0, index\_col=0, decimal='M')

The arguments are: []{#hevea_default173}

-   `filename`: The name of the file (including the directory it's in)
    as a string. This argument can also be a URL starting with `http`.
-   `header`: Indicates which row of each table should be considered the
    header, that is, the set of labels that identify the columns. In
    this case it is the first row (numbered 0).
-   `index_col`: Indicates which column of each table should be
    considered the [index]{style="font-weight:bold"}, that is, the set
    of labels that identify the rows. In this case it is the first
    column, which contains the years.
-   `decimal`: Normally this argument is used to indicate which
    character should be considered a decimal point, because some
    conventions use a period and some use a comma. In this case I am
    abusing the feature by treating `M` as a decimal point, which allows
    some of the estimates, which are expressed in millions, to be read
    as numbers.

The result, which is assigned to `tables`, is a sequence that contains
one `DataFrame` for each table. A `DataFrame` is an object, defined by
Pandas, that represents tabular data.

[]{#hevea_default174} []{#hevea_default175}

To select a `DataFrame` from `tables`, we can use the bracket operator
like this:

table2 = tables\[2\]

This line selects the third table (numbered 2), which contains
population estimates from 1950 to 2016.

[]{#hevea_default176} []{#hevea_default177}

We can display the first few lines like this:

table2.head()

The column labels are long strings, which makes them hard to work with.
We can replace them with shorter strings like this:

[]{#hevea_default178} []{#hevea_default179}

table2.columns = \['census', 'prb', 'un', 'maddison', 'hyde', 'tanton',
'biraben', 'mj', 'thomlinson', 'durand', 'clark'\]

Now we can select a column from the `DataFrame` using the dot operator,
like selecting a state variable from a `State` object:

[]{#hevea_default180} []{#hevea_default181}

census = table2.census / 1e9 un = table2.un / 1e9

These lines select the estimates generated by the United Nations
Department of Economic and Social Affairs (UN DESA) and the United
States Census Bureau.

[]{#hevea_default182} []{#hevea_default183}

Each result is a Pandas `Series`, which is like a `DataFrame` with just
one column.

[]{#hevea_default184}

The number `1e9` is a shorter, less error-prone way to write
`1000000000` or one billion. When we divide a `Series` by a number, it
divides all of the elements of the `Series`. From here on, we'll express
population estimates in terms of billions.

